{"type":"operationStart","subtype":"profile","data":{"_id":"kXRVlkVdRbtNPaIu","timestamp":"2024-02-20T17:19:33.904Z","state":"queued","mode":"standard","creationDate":"2024-02-20T17:19:33.905Z","modificationDate":"2024-02-20T17:19:33.905Z","shortid":"c16IHX0","$entitySet":"profiles"},"doDiffs":false,"timestamp":1708449573905,"id":"ccc34gfe7ds3kul","previousOperationId":null,"operationId":"168nsba524e1r7k"}
{"type":"log","level":"info","message":"Render request 51 queued for execution and waiting for available worker","previousOperationId":"168nsba524e1r7k","timestamp":1708449573905,"id":"lqcbv7tqcjqx8qd"}
{"type":"operationStart","subtype":"render","name":"TemplateList","previousOperationId":"168nsba524e1r7k","timestamp":1708449573910,"id":"4r1itiyihc4wo3g","previousEventId":"ccc34gfe7ds3kul","operationId":"btfq3nxgewxljq3"}
{"type":"log","timestamp":1708449573910,"level":"info","message":"Starting rendering request 51","meta":{"rootId":"xsst5ovkresqk65","id":"xsst5ovkresqk65"},"id":"j4b63logxqspwj4","previousOperationId":"btfq3nxgewxljq3"}
{"type":"log","timestamp":1708449573910,"level":"info","message":"Rendering template { name: TemplateList, recipe: chrome-pdf, engine: handlebars, preview: true }","meta":{"rootId":"xsst5ovkresqk65","id":"xsst5ovkresqk65"},"id":"kp7fdd4dyp51u4y","previousOperationId":"btfq3nxgewxljq3"}
{"type":"log","timestamp":1708449573910,"level":"debug","message":"Data item not defined for this template.","meta":{"rootId":"xsst5ovkresqk65","id":"xsst5ovkresqk65"},"id":"1yk77ao3wgh41ux","previousOperationId":"btfq3nxgewxljq3"}
{"type":"log","timestamp":1708449573911,"level":"debug","message":"Executing script list-data (beforeRender)","meta":{"rootId":"xsst5ovkresqk65","id":"xsst5ovkresqk65"},"id":"26bh7g1a15k0dy5","previousOperationId":"btfq3nxgewxljq3"}
{"type":"log","timestamp":1708449573919,"level":"warn","message":"Error when processing render request 51\n(because) error when evaluating custom script /TibuTicket/list-data\nCannot use import statement outside a module\nSyntaxError: Cannot use import statement outside a module\n  at Object.eval (eval at makeEvaluate (/home/miguel/workspace/tibuTicket/jsreports/node_modules/@jsreport/ses/index.js:6142:27), <anonymous>:12:36)\n  at safeEvaluate (/home/miguel/workspace/tibuTicket/jsreports/node_modules/@jsreport/ses/index.js:6241:14)\n  at compartmentEvaluate (/home/miguel/workspace/tibuTicket/jsreports/node_modules/@jsreport/ses/index.js:8252:10)\n  at Compartment.evaluate (/home/miguel/workspace/tibuTicket/jsreports/node_modules/@jsreport/ses/index.js:9034:12)\n  at run (/home/miguel/workspace/tibuTicket/jsreports/node_modules/@jsreport/jsreport-core/lib/worker/sandbox/createSandbox.js:132:36)\n  at WorkerReporter.runInSandbox [as _runInSandbox] (/home/miguel/workspace/tibuTicket/jsreports/node_modules/@jsreport/jsreport-core/lib/worker/sandbox/runInSandbox.js:195:20)","meta":{"rootId":"xsst5ovkresqk65","id":"xsst5ovkresqk65"},"id":"1umqw8gmrpmyxj8","previousOperationId":"btfq3nxgewxljq3"}
{"type":"log","timestamp":1708449573919,"level":"warn","message":"Rendering request 51 finished with error in 15 ms","meta":{"rootId":"xsst5ovkresqk65","id":"xsst5ovkresqk65"},"id":"1yu0hsowk3aco03","previousOperationId":"btfq3nxgewxljq3"}
{"type":"error","timestamp":1708449573921,"statusCode":400,"weak":true,"entity":{"shortid":"6v8QPG_9N3","name":"list-data","content":"import fetch from 'node-fetch';\n\nasync function fetchlists() {\n    const response = await fetch('http://localhost:4000/api/v1/lists');\n    if (!response.ok) {\n        throw new Error(`Network response was not ok: ${response.status} ${response.statusText}`);\n    }\n    const lists = await response.json();\n    lists.map(e => console.log(e));\n    return lists;\n}\n\nasync function beforeRender(req, res) {\n    try {\n        req.data.lists = await fetchlists();\n    } catch (error) {\n        console.error('Error fetching lists:', error);\n    }\n}\n"},"property":"content","logged":true,"previousOperationId":"btfq3nxgewxljq3","id":"7d2ug5txuzj2gan","stack":"SyntaxError: Cannot use import statement outside a module\n  at Object.eval (eval at makeEvaluate (/home/miguel/workspace/tibuTicket/jsreports/node_modules/@jsreport/ses/index.js:6142:27), <anonymous>:12:36)\n  at safeEvaluate (/home/miguel/workspace/tibuTicket/jsreports/node_modules/@jsreport/ses/index.js:6241:14)\n  at compartmentEvaluate (/home/miguel/workspace/tibuTicket/jsreports/node_modules/@jsreport/ses/index.js:8252:10)\n  at Compartment.evaluate (/home/miguel/workspace/tibuTicket/jsreports/node_modules/@jsreport/ses/index.js:9034:12)\n  at run (/home/miguel/workspace/tibuTicket/jsreports/node_modules/@jsreport/jsreport-core/lib/worker/sandbox/createSandbox.js:132:36)\n  at WorkerReporter.runInSandbox [as _runInSandbox] (/home/miguel/workspace/tibuTicket/jsreports/node_modules/@jsreport/jsreport-core/lib/worker/sandbox/runInSandbox.js:195:20)","message":"Error when evaluating custom script /TibuTicket/list-data\nCannot use import statement outside a module"}
