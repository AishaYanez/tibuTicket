{"type":"operationStart","subtype":"profile","data":{"_id":"UD2BMLAcQDUn754m","timestamp":"2024-02-20T17:27:02.268Z","state":"queued","mode":"standard","creationDate":"2024-02-20T17:27:02.271Z","modificationDate":"2024-02-20T17:27:02.271Z","shortid":"03VtrwK","$entitySet":"profiles"},"doDiffs":false,"timestamp":1708450022269,"id":"6231qvd97fbroqf","previousOperationId":null,"operationId":"d4kwvm1qpqp6tpt"}
{"type":"log","level":"info","message":"Render request 1 queued for execution and waiting for available worker","previousOperationId":"d4kwvm1qpqp6tpt","timestamp":1708450022270,"id":"9xhlss2sk8k8utv"}
{"type":"operationStart","subtype":"render","name":"TemplateList","previousOperationId":"d4kwvm1qpqp6tpt","timestamp":1708450022298,"id":"qh0aaq2y1wx0b3b","previousEventId":"6231qvd97fbroqf","operationId":"ra0ehoqgbhzyov3"}
{"type":"log","timestamp":1708450022298,"level":"info","message":"Starting rendering request 1","meta":{"rootId":"mhw8aud4aqdr79x","id":"mhw8aud4aqdr79x"},"id":"ija6vb0nxyyqs8s","previousOperationId":"ra0ehoqgbhzyov3"}
{"type":"log","timestamp":1708450022299,"level":"info","message":"Rendering template { name: TemplateList, recipe: chrome-pdf, engine: handlebars, preview: true }","meta":{"rootId":"mhw8aud4aqdr79x","id":"mhw8aud4aqdr79x"},"id":"kd6290c93wax6pe","previousOperationId":"ra0ehoqgbhzyov3"}
{"type":"log","timestamp":1708450022301,"level":"debug","message":"Data item not defined for this template.","meta":{"rootId":"mhw8aud4aqdr79x","id":"mhw8aud4aqdr79x"},"id":"bgw4cc4mktoq482","previousOperationId":"ra0ehoqgbhzyov3"}
{"type":"log","timestamp":1708450022305,"level":"debug","message":"Executing script list-data (beforeRender)","meta":{"rootId":"mhw8aud4aqdr79x","id":"mhw8aud4aqdr79x"},"id":"evin8ucooha98ff","previousOperationId":"ra0ehoqgbhzyov3"}
{"type":"log","timestamp":1708450022486,"level":"warn","message":"Error when processing render request 1\n(because) error when evaluating custom script /TibuTicket/list-data\nmodule is not defined\n\n(sandbox.js line 20:1)\n\n  18 | }\n  19 |\n> 20 | module.exports = {\n     | ^\n  21 |     beforeRender\n  22 | };\n  23 |\n\n\nReferenceError: module is not defined\n    at sandbox.js:20:1","meta":{"rootId":"mhw8aud4aqdr79x","id":"mhw8aud4aqdr79x"},"id":"6hs3hgfs7m8u0t6","previousOperationId":"ra0ehoqgbhzyov3"}
{"type":"log","timestamp":1708450022486,"level":"warn","message":"Rendering request 1 finished with error in 218 ms","meta":{"rootId":"mhw8aud4aqdr79x","id":"mhw8aud4aqdr79x"},"id":"ywh8jo6ydk25t1j","previousOperationId":"ra0ehoqgbhzyov3"}
{"type":"error","timestamp":1708450022488,"statusCode":400,"weak":true,"lineNumber":20,"decoratedSuffix":"\n\n(sandbox.js line 20:1)\n\n  18 | }\n  19 |\n> 20 | module.exports = {\n     | ^\n  21 |     beforeRender\n  22 | };\n  23 |\n\n","entity":{"shortid":"6v8QPG_9N3","name":"list-data","content":"const fetch = require('node-fetch');\n\nasync function fetchlists() {\n    const response = await fetch('http://localhost:4000/api/v1/lists');\n    if (!response.ok) {\n        throw new Error(`Network response was not ok: ${response.status} ${response.statusText}`);\n    }\n    const lists = await response.json();\n    return lists;\n}\n\nasync function beforeRender(req, res) {\n    try {\n        req.data.lists = await fetchlists();\n    } catch (error) {\n        console.error('Error fetching lists:', error);\n    }\n}\n\nmodule.exports = {\n    beforeRender\n};\n"},"property":"content","logged":true,"previousOperationId":"ra0ehoqgbhzyov3","id":"snd4uaysd1309xu","stack":"ReferenceError: module is not defined\n    at sandbox.js:20:1","message":"Error when evaluating custom script /TibuTicket/list-data\nmodule is not defined\n\n(sandbox.js line 20:1)\n\n  18 | }\n  19 |\n> 20 | module.exports = {\n     | ^\n  21 |     beforeRender\n  22 | };\n  23 |\n\n"}
